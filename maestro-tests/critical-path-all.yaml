appId: com.anonymous.vibecode
---
# Critical Path - All Tests
# Runs all critical path tests in sequence
# Use this before deploying to production
#
# Run with: maestro test maestro-tests/critical-path-all.yaml

- launchApp
- waitForAnimationToEnd

# ============================================
# TEST 1: Verify app loads and user is logged in
# ============================================
- assertVisible:
    text: ".*Wardrobe.*|.*Home.*|.*Looks.*"
    optional: true
- takeScreenshot: "01-app-loaded.png"

# ============================================
# TEST 2: Scan Screen Access
# ============================================
- tapOn:
    point: "37%,95%"
- waitForAnimationToEnd

- assertVisible:
    text: "Scan item"
    optional: true
- takeScreenshot: "02-scan-screen.png"

# Verify scan UI elements
- assertVisible:
    text: "Upload from photos"
    optional: true

# Close scan
- back
- waitForAnimationToEnd

# ============================================
# TEST 3: Wardrobe Screen Access
# ============================================
- tapOn:
    text: "Wardrobe"
    optional: true
- waitForAnimationToEnd

- runFlow:
    when:
      notVisible: "Wardrobe"
    commands:
      - tapOn:
          point: "63%,95%"
      - waitForAnimationToEnd

- takeScreenshot: "03-wardrobe-screen.png"

# ============================================
# TEST 4: Account/Settings Access
# ============================================
- tapOn:
    point: "90%,95%"
- waitForAnimationToEnd

- takeScreenshot: "04-account-screen.png"

# Look for subscription/pro status
- assertVisible:
    text: ".*Pro.*|.*Subscription.*|.*Account.*"
    optional: true

# ============================================
# TEST 5: Navigation works (return to home)
# ============================================
- tapOn:
    point: "10%,95%"
- waitForAnimationToEnd

- takeScreenshot: "05-home-screen.png"

# ============================================
# TEST 6: Recent scans/checks visible
# ============================================
- assertVisible:
    text: ".*Recent.*|.*checks.*|.*View all.*"
    optional: true

- takeScreenshot: "06-recent-checks.png"

# ============================================
# SUMMARY
# ============================================
# All critical paths verified:
# ✓ App loads
# ✓ Scan screen accessible
# ✓ Wardrobe screen accessible  
# ✓ Account screen accessible
# ✓ Navigation works
# ✓ Recent scans visible
